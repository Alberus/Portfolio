import requests
import time
import json
import os


class TelegramBot:
    def __init__(self):
        token = "5548054453:AAF_VU7AdPQSuIr-AYpP45-FioixiSOo6hE"
        self.url_base = f'https://api.telegram.org/bot{token}/'
    #Iniciar bot
    def iniciar(self):
        update_id = None
        while True:
            atualizacao = self.obter_mensagens(update_id)
            mensagens = atualizacao['result']
            if mensagens:
                for mensagem in mensagens:
                    update_id = mensagem['update_id']
                    chat_id = mensagem['message']['chat']['id']
                    primeira = mensagem['message']['message_id'] == 1
                    texto = mensagem['message']['text']
                    resposta = self.criar_resposta(texto, primeira)
                    self.responder_pessoa(resposta, chat_id)
    #Obter mensagens
    def obter_mensagens(self, update_id):
        link_requisicao = f'{self.url_base}getUpdates?timeout=50'
        if update_id:
            link_requisicao = f'{link_requisicao}&offset={update_id+1}'
        resultado = requests.get(link_requisicao)
        return json.loads(resultado.content)
    #Criar resposta
    def criar_resposta(self, mensagem, primeira):
        if primeira == True or mensagem == "menu":
            return f"""Olá! Bem-vindo ao bot do Otávio! O que gostaria de fazer?{os.linesep}Saber sobre o Bot digite 'sobre'{os.linesep}Para jogar uma aventura-solo digite 'aventura'"""
        if mensagem == "sobre":
            return f"Este é um bot criado durante estudos sobre o tema.{os.linesep}Para voltar ao início digite 'menu'"
        if mensagem == "aventura":
            return f"Neste momento você está sentado à beira de sua cama. Seu nome é Marco. Tem apenas treze anos, e sua vida já acabou. Olha para sua mão, ou o que costumava ser sua mão, pois ela nunca foi tão peluda (você nem tem idade para isso) ou tão grande. O rosto no espelho também não é mais o seu; pelagem em abundância, dentes afiados. E você está bem maior, é claro. Maldita lua cheia!{os.linesep}Você sabe exatamente o que aconteceu e como. Foi no final de semana, no acampamento dos escoteiros. Levantou-se no meio da noite e afastou-se um pouco das tendas. Isso é proibido, claro. Se tivesse ouvido o chefe, nunca teria encontrado o Lobo - bem, na verdade foi ele que o encontrou. O ataque foi rápido, você pensou que era o fim. Mas foi apenas uma mordida; ele soltou você, olhou-o com espanto e fugiu.{os.linesep}Você pensa no Lobo. Havia algo de quase humano naquele olhar. Agora você sabe porquê. Ele não era um lobo. Era um Lobisomen. E agora você também é.{os.linesep}Será que você é capaz de lidar com o que você se tornou? Se quer tentar, começe o jogo e digite '1'."
        if mensagem == "1":
            return f"Você deseja ardentemente ser um humano de novo, voltar ao normal... e, para sua surpresa, volta! A imagem bestial no espelho aos poucos retorna àquela que corresponde ao seu rosto. Esquisito! Não deveria esperar quea lua cheia fosse embora?{os.linesep}Foi bem a tempo. Seu pai abre a porta repentinamente. Ele está furioso, com um cinto na mão.{os.linesep}- Ouvi falar que não foi à escola hoje.{os.linesep}- Não, senhor. É que...{os.linesep}- Quieto! Não pedi nenhuma explicação. Se você não está à beira da morte, tinha obrigação de ir à escola. Não permito vagabundos na minha casa... {os.linesep}Ai! E agora?{os.linesep}Se você vai pedir desculpas e apanhar quietinho, ditige '7'{os.linesep}Se quer protestar contra a surra, digite '31'{os.linesep}Se vai usar seus novos poderes para defender-se, digite '20'"
        if mensagem == "2":
            return f"- Esqueçam. Acho que prefiro ficar sozinho.{os.linesep}- Essa não é uma alternativa - sibila o lobisomen com a faca, avançando com os outros.{os.linesep}Um deles é morto pelas costas pelo vampiro, que em seguida desaparece. Você tenta fugir dos monstros, embora sem muitas esperanças. No entanto, momentos depois, olha para trás e vê que apenas dois ainda estão perseguindo. O que terá acontecido ao terceiro?{os.linesep}Uma figura enorme cai como madura de uma árvore, abatendo um dos outros monstros. Só resta o da faca. Sem pensar duas vezes, você adota a forma de homem-lobo e vira-se para lutar. Em instantes ele está morto.{os.linesep}Agora você pode observar melhor para ver quem atingiu o outro monstro. É mais um lobisomem! Não um monstro grotesco como os outros, mas sim uma figura de indescritível majestade, nobre e gloriosa em sua beleza animal.{os.linesep}- Olá, Marco. Sou Bico da Águia. Podemos falar? Como sempre, você decide.{os.linesep}Se você prefere ir embora, digite '39'.{os.linesep}Se quer aceitar o convite, digite '21'."
        if mensagem == "3":
            return f"Seu pai retorna em alguns instantes, com uma enorme espingarda nas mãos, e um brilho de ódio insano nos olhos.{os.linesep}— Eu sei lidar com isso muito bem — grita ele, ainda mais furioso que de costume. — Já tive um amigo devorado por um lobisomem. Por isso sempre tenho em casa o único remédio: uma boa bala de prata!{os.linesep}Talvez seja melhor assim, você pensa. O som do tiro é a última coisa que você ouve antes de tombar morto.{os.linesep}Para volta ao início do jogo, digite '1'. Para voltar ao menu, digite 'menu'."
        if mensagem == "4":
            return f"— Hã... com licença?{os.linesep}— Oh, olá. Sou o dono desta casa. Pode me chamar de Estrela Solitária.{os.linesep}— Parece um nome Garou.{os.linesep}— Sim, pois seu povo deu-me esse nome. Orgulho-me muito dele.{os.linesep}Vocês conversam por algum tempo, é ficam amigos. Descobrem que têm muita coisa em comum. Isso é bom, pois não se costuma encontrar muitos aliados no Mundo das Trevas...{os.linesep}Depois de algum tempo, você acha que já é hora de voltar. Despede-se de seu novo amigo e atravessa O espelho na sala de entrada.{os.linesep}Digite '36' para continuar."
        if mensagem == "5":
            return f"— Não vou — você decide. — Você é igual aos o utros. Quer me arrastar contra a minha vontade. O homem mostra-se surpreso com a sua atitude. Deixa cair os ombros e vira-se para ir embora.{os.linesep}Se é esse seu desejo, não posso fazer mais nada.{os.linesep}— Não se preocupe, Bico da Águia — diz Rodrigo ao homem que sai pela porta. — Eu explicarei a verdade para o garoto.{os.linesep}— Que verdade? — você pergunta.{os.linesep}— Bem, acho melhor começar dizendo quem era o lupino que acaba de sair. Notou como você se parece com ele? Não é para menos, era seu pai.{os.linesep}- Meu O QUÊ?{os.linesep}— Seu verdadeiro pai, ora. Como você pensa que tornou-se lobisomem? Não me venha outra vez com aquela história do lobo que mordeu-o na floresta; foi apenas coincidência. Você nasce lobisomem ou não. É. genético. Portanto, um de seus pais precisa ser lobisomem também.{os.linesep}— Ele era meu pai? E seu nome era Garou? Ou Bico da Águia?{os.linesep}-—— Garou é como os lobisomens gostam de chamar a si. mesmos. O nome dele, na verdade, é Pedro. Os Garou têm mania de índio; todos adotam um nome de tribo, e o dele é Bico da Águia. Descobri isso enquanto investigava sobre você. Mas acho que ele desejava mesmo, explicar sobre Gaia e a Wyrm.{os.linesep}- E quem são esses?{os.linesep}— Uma história tribal. Gaia, você deve saber, é o nome grego para a Terra. Os Garou vêem a si mesmos como defensores da vida, obcecados em proteger Gaia. A Wyrm, por sua vez, é uma espécie de força cósmica destruidora. Tudo muito bonito, claro, mas os Garou odeiam tudo que consideram inimigo da vida — o que infelizmente inclui nós, vampiros. Nada tenho contra essa cruzada ecológica, mas acho que uma raça inteira pensando numa coisa só é é certa falta de assunto. Há tantas outras coisas pelo que lutar! Crianças passando fome nas ruas, guetra, crime, violência... quem cuida da raça humana?{os.linesep}- Você mencionou que tinha planos para mim.{os.linesep}— Já eliminamos muitos líderes criminosos, certo? Eu planejava apenas matar mais um, mas desta vez é um vampiro. Nossas leis proíbem rigorosamente que um vampiro mate outro e, como você mesmo ouviu, seu paizinho está usando essa informação para me chantagear. É isso. Ele não está mentindo, você pode sentir. Rodrigo é bom em manipular pessoas, mas sempre faz isso sem mentir.{os.linesep}De qualquer forma, você se sente melhor conhecendo a verdade.{os.linesep}Se quer tentar alcançar seu pai e ficar com ele, digite '26'.{os.linesep}Se prefere deixar para lá o fanatismo ecológico dos Garou e ficar com Rodrigo, digite '33'.{os.linesep}Se acha que ambos o enganaram e quer ficar sozinho, digite '28'."
        if mensagem == "6":
            return f"A vida selvagem não é para você, e muito menos os esgotos. Resolve ficar na cidade, mas bem longe de onde vivia com sua antiga família. Você tem treze anos, não tem documentos, não conhece nenhuma atividade profissional e seus únicos pertences são as roupas do corpo: termina tornando-se mais um menino de rua parte do tempo, e vez por outra um cão vira-latas.{os.linesep}Sua vida é um período confuso de lembranças emaranhadas, até o momento que mais tarde mudou sua vida: você passa diante de um beco escuro — quando presencia um n estupro. Uma jovem está sendo atacada por um homem armado.{os.linesep}Os instintos dentro de você gritam por uma providência.{os.linesep} Se acha que isso não é problema seu, digite '22'.{os.linesep}Se vai seguir seu impulso e interferir, digite '30'."
        if mensagem == "7":
            return f"Você murmura alguma coisa, baixa a cabeça e usa toda a sua força de vontade para não reagir. Ele o açoita com o cinto até cansar o braço, então aplica alguns tapas e socos com a outra mão, joga você no chão e chuta algumas vezes. Nada diferente do habitual.{os.linesep}Quando ele vai embora, você está moído. Assim que a porta se fecha, porém, você volta à forma de homem-lobo e começa a sentir-se melhor. Reparou que seus ferimentos saram mais depressa nessa forma. Olha para a mochila de escoteiro e uma tentadora pilha de roupas recém- lavadas ao lado. Talvez não exista mais lugar para você nesta família.{os.linesep}Se quer colocar às roupas na mochila, a mochila nas costas e os pés na estrada, digite '27'.{os.linesep}Se prefere colocar as roupas no armário e contar tudo a seus pais, digite '10'."
        if mensagem == "8":
            return f"— Família? Não. Sinto muito, mas não posso apenas esquecer o que aconteceu. Não posso aceitar que tenha me enganado durante esse tempo todo.{os.linesep}Você dá as costas a seus país e penetra em um espelho próximo, retornando ao mundo normal — mas ciente de que seu mundo agora nada tem de “normal”. Digite '36'."
        if mensagem == "9":
            return f"— Não, obrigado. Uma oferta tentadora, mas prefiro assim.{os.linesep}— Como quiser, colega. Eis meu telefone, se precisar de mim. Você e o vampiro (seu nome é Rodrigo) tornam-se amigos. Não é seu único amigo, aliás. Em sua vida você conheceu outras criaturas noturnas; homens-gato, outros lobisomens e mesmo um demônio. Com o tempo, acaba aprendendo um pouco sobre a cultura dos lobisomens — sabe agora que sua raça prefere ser chamada de Garou — e sobre a Wyrm, a força cósmica de destruição que os Garou culpam por todos os males. Mas nunca se empolga com a guerra de seu povo pela natureza. Digite '40'."
        if mensagem == "10":
            return f"Já quase curado da surra, você volta à forma humana. Abre a porta do seu quarto e desce as escadas. Seus pais estão sentados a mesa, conversando. Seu pai o vê ainda na escada.{os.linesep}— O que esse vagabundo está fazendo aqui?{os.linesep}— E-eu preciso contar uma coisa. Aconteceu algo neste fim-de semana... eu mudei... eu...{os.linesep}É difícil explicar com palavras. O que dizer, que você virou bicho? Entendendo que uma imagem pode descrever a situação muito melhor, você deixa-se transformar em homem-lobo novamente.{os.linesep}— Meu Deus! — grita sua mãe, enlouquecida de pavor. A reação de seu pai é bem mais mecânica; ele apenas se levanta e sai da sala.{os.linesep}Se quer esperar, digite '3'.{os.linesep}Se acha que agora é um bom momento para voltar ao quarto, pegar aquela mochila e sumir daqui, digite '27'."
        if mensagem == "11":
            return f"Você se prepara para lutar, mas o homem-lobo o detém:{os.linesep}— Marco, não. Eu vim falar com você.{os.linesep}— Você invadiu minha casa, Garou — diz Rodrigo. — Isso faz de você um inimigo. O rapaz está sob minha proteção, e não permito que fale com. inimigos.{os.linesep}O lobisomem intruso parece lutar para conter a raiva. Ele respira fundo | e sua forma gigantesca aos poucos se reduz a uma aparência humana.{os.linesep}— Eu poderia matá-lo e levar o garoto, sanguessuga, mas desta vez vamos fazer as coisas a seu modo. Você sabe que não pode impedir Marco de conhecer a verdade sobre sua raça, mas nunca vi um vampiro que se importasse com a verdade. Então, você vai permitir que ele me acompanhe apenas porque aquele Justicar não gostou muito de saber que você protege um lobisomem, e gostaria menos ainda de conhecer seus planos para ele.{os.linesep}— Você não pode provar nada! — grita Rodrigo, nervoso.{os.linesep}— Sim, posso. Estive em seu escritório antes de vir para cá.O invasor sorri. Rodrigo, por sua vez, não parece nada feliz. Um Justicar você sabe o que é, uma espécie de juiz dos vampiros. Finalmen- te, depois de quase um minuto de tensão, seu mentor diz:{os.linesep}— Está bem. Ele pode ir.{os.linesep}— Esperem aí! — você protesta, vendo sua vida escapar ao controle outra vez. — Quem me perguntou se EU quero ir?{os.linesep}O lobisomem fica espantado com a pergunta, e desta vez é Rodrigo que sorri, divertido.{os.linesep}— Não se preocupe, Marco — explica o vampiro. — Ele quer apenas contar algumas coisas para você. Depois de ouvir o que ele tem a dizer. pode voltar se quiser.{os.linesep}Você pensa. Seria uma chance de saber mais sobre sua própria gente... ou uma armadilha?{os.linesep}Se quiser ir com o lobisomem, digite '13'.{os.linesep}Se prefere ficar com Rodrigo, digite '5'."
        if mensagem == "12":
            return f"— “Nós” quem? — você rosna, ainda desconfiado.{os.linesep}— Às Crianças Perdidas. Somos uma pequena comunidade dos esgotos. Todos mais que humanos... ou menos.{os.linesep}O menino-rato parece inofensivo, afinal. Mais calmo, você ouve sua história enquanto deixa-se guiar por ele. Aprende que existem muitas criaturas sobrenaturais vivendo nos esgotos, incluindo outros lobisomens — uma tribo chamada Roedores de Ossos, ao que parece. Há também homens-gato, e homens-rato como ele próprio. Vampiros, também: os Nosferatu, e uma raça estranha chamada Nefastus. Todos procuram apenas sobreviver, cuidando de suas vidas, longe dos assuntos da superfície.{os.linesep}— Parece bom.{os.linesep}O menino-rato apresenta você às Crianças Perdidas. Lá, você enfim se sente como parte de uma família. Este foi o destino que você escolheu.{os.linesep}Digite 'menu' para voltar ao início."
        if mensagem == "13":
            return f"— Acho que vou com ele — você diz a Rodrigo. — Preciso saber. E eu sempre posso voltar, não posso?{os.linesep}Rodrigo dá de ombros, indiferente. Já o Garou parece exultante. Ele É retorna à majestosa forma de homem-lobo e salta pela janela, sendo logo seguido por você. Escondem-se nas matas de um parque para conversar.{os.linesep}— Oh, bem... há tanto a dizer que nem sei por onde começar.{os.linesep}— Comece dizendo quem é você.{os.linesep}— Ótima idéia. Quem sou eu, quem é você? Sou Bico da Águia, também conhecido entre os humanos como Pedro Henrique Dias Bueno. Mas isso não é o que sou na verdade. Sou um Garou, um Filho de Gaia.{os.linesep}— Fiquei na mesma.{os.linesep}— Isso quer dizer que eu e você fazemos parte de uma raça nobre e antiga, os Garou, também conhecidos como lobisomens. Dentro dessa raça, pertenço a uma linhagem particularmente nobre, cujos membros são chamados Filhos de Gaia. Todos os Garou são Filhos de Gaia e lutam por ela, mas nossa linhagem é especial.{os.linesep}— Quer dizer que quando alguém recebe a maldição do lobisomem transforma-se em algum tipo de herói medieval, com linhagens e tudo, e não em um monstro? Difícil de engolir.{os.linesep}— Ninguém se transforma em lobisomem, garoto. Você nasce Garou ou não. Se um de seus pais é Garou, há uma grande chance de que você também seja. Acontece que o homem que criou você não é realmente seu pai. Seu verdadeiro pai foi um Garou que apaixonou-se por sua mãe. Ela, claro, não sabia que seu amante não era humano. Acho que ela nem acredita nesse tipo de coisa.{os.linesep}— E-então...? Mas...? Por que...?{os.linesep}— Há um motivo para tudo. Lutamos por Gaia. Pela vida. E somos poucos, quase em extinção. Como o resto de Gaia, estamos morrendo nas mãos da Wyrm, que representa a destruição, e por isso precisamos de mais guerreiros. Por esse motivo, durante toda a sua vida, você odiou a injustiça e a violência. É seu sangue de Filho de Gaia.{os.linesep}— É, acho que isso explica minha afinidade com Rodrigo. Ele também odeia a violência e a injustiça.{os.linesep}Bico da Águia parece não gostar muito da observação.{os.linesep}— Agora escute, Marco. Rodrigo pode parecer bom, mas ele é um “vampiro. Vampiros e bondade não combinam. A vida deles é manipular o mundo a seu gosto, e sugar seu sangue, quando não literalmente ao menos metaforicamente. Na verdade, são os mais eficientes servos da Wyrm.{os.linesep}— Espere, isso não é verdade! Sei que a maioria deles não é flor que se cheire, mas descobri que muitos são bons, no íntimo. Dedicam suas vidas eternas a uma boa causa.{os.linesep}— Não. Nunca conheci um sanguessuga bom. Qualquer coisa boa que venha deles está maculada pela Wyrm, e no final leva à corrupção. Seu lugar é ao lado de seu povo, Marco.{os.linesep}—— Não sei. Claro que gostaria de conhecer meu pai. Mas, quanto ao que fazer de minha vida, acho que devo pensar melhor.{os.linesep}O Filho de Gaia baixa os olhos, envergonhado. Algo parece errado.{os.linesep}— Marco... seu pai verdadeiro, bem... sou eu.{os.linesep}Seu primeiro impulso é fazer o maldito em mil pedacinhos por deixá-lo passar por tantos problemas — principalmente por deixá-lo pensar que aquele maldito brutamontes era seu pai. Mas a convivência com Rodrigo ensinou-o a ser frio. Você se acalma, evitando que a revelação influa em sua decisão.{os.linesep}Sim, pois você deve decidir AGORA se vai ficar com Bico de Águia, seu verdadeiro pai, e unir-se à luta dos Garou pela vida (digite '26'), se “vai continuar combatendo o crime ao lado de Rodrigo (digite '33'), ou se não confia em nenhum dos dois (digite '28')."
        if mensagem == "14":
            return f"— Que se danem todos vocês, e Gaia também — você grita. Em seguida, salta para um telhado e vai embora, andando até estar bem longe, em um lugar desconhecido, quase fora da cidade.{os.linesep}Se você vai continuar a vida sozinho, decida agora como. Talvez nas matas, na região onde acampou com os escoteiros? Digite 'l7'. Se quer tentar os esgotos, digite '37'. Se prefere permanecer nas ruas da cidade, digite '6'."
        if mensagem == "15":
            return f"Quando você se atira sobre o maldito, sua visão é totalmente tomada por névoa vermelha e você não vê mais nada. Quando recobra a consciência, encontra apenas pedaços de carne estraçalhada que deveriam pertencer a seu pai.{os.linesep}Por um instante você entende o horror do que acaba de fazer, mas isso não consegue saciar sua sede de sangue. O desejo de matança não termina. Você entende que nunca mais será capaz de retomar o controle do animal selvagem que é agora. O que resta de sua alma chora pelo que você se tornou, enquanto procura sua mãe para matá-la também... {os.linesep}Digite 'menu' para voltar ao início."
        if mensagem == "16":
            return f"— Váembora, Bico da Águia — você rosna. — Já conversamos sobre tudo o que tínhamos que conversar. Fiz minha escolha, não vou com você.{os.linesep}— Sei disso, filho. Apenas trago uma mensagem. Os Philodox, juízes dos Garou, mandam dizer que aceitam sua opção de vida. Você tem direito de combater a Wyrm de sua própria maneira.{os.linesep}— À Wyrm? Quem é ela?{os.linesep}— A personificação da destruição e da morte — explica Rodrigo. Bico da Águia concorda.{os.linesep}— Sim. Eles dizem também que você sempre será aceito entre seu povo. Mas isso não vale para seu aliado. Boas intenções não o fazem menos vampiro, e vampiros são obra da Wyrm.{os.linesep}— Oh, como sentirei falta da hospitalidade de seu povo! — lamenta o vampiro, irônico.{os.linesep}— E, finalmente, os Philodox mandam que eu entregue seu nome tribal. Entre os Garou, você será conhecido como Brilho nas Trevas.{os.linesep}— Tá. Obrigado, acho. Não sei se vou usar muito esse nome.{os.linesep}Sem se despedir, o Garou vira as costas e vai embora. Digite '40'."
        if mensagem == "17":
            return f"Não é uma decisão tão difícil. Deixando suas roupas e sua vida civilizada para trás, você desaparece na mata e passa a viver como um lobo. Com o tempo, chega quase a esquecer que foi humano um dia. Esta foi a sua escolha."
        if mensagem == "18":
            return f"— D-desculpe, senhor, mas acho que devo ficar ao lado de meus iguais.{os.linesep}— Seus iguais! Então que assim seja, tolo! — diz o vampiro, sumindo em meio a uma nuvem de fumaça. Os lobisomens começam uma dança macabra, e você se sente compelido a juntar-se a eles.{os.linesep}— Você escolheu corretamente, filhote. Abrace seu destino. Venha dançar conosco, dançar pela Espiral Negra, como dançará pelo resto de sua vida.{os.linesep}Você começa a dançar com eles, feliz. No fundo de sua mente, você sabe qual será seu destino maligno — mas não se importa, pois achou outros iguais a você. Finalmente, você pertence de verdade a uma: família. Você é parte de alguma coisa. Mesmo que essa “alguma coisa” seja um grupo de monstros mutantes, corruptos e deformados, que almejam a destruição de toda a vida. Mas, bem... esta foi a sua escolha!{os.linesep}Digite 'menu' para voltar ao início."
        if mensagem == "19":
            return f"Você segue o corredor. Em ambos os lados vê inúmeras portas, que levam a quartos vazios. No final do corredor, uma escada desce em direção ao que parece ser um porão. Lá embaixo, você passa por um poço escuro de onde saem vapores, e mais adiante vê uma porta entreaberta, levando para uma sala onde um homem está sentado dentro de um círculo.{os.linesep}Se vai entrar e falar com o homem, digite '4'.{os.linesep} Se quer investigar o poço, digite '32'."
        if mensagem == "20":
            return f"Você deixa seu corpo voltar à forma de lobisomem, e seu punho peludo segura o cinto no ar. Seu pai segura um grito e foge do quarto. É, você pensa, agora ele já sabe.{os.linesep}Olhando para a mochila de escoteiro e uma tentadora pilha de roupas recém-lavadas ao lado, você se pergunta se é sensato continuar aqui.{os.linesep}Se você acha melhor ir embora imediatamente, digite '27'.{os.linesep}Se quer tentar explicar tudo a seu pai, digite '3'."
        if mensagem == "21":
            return f"— Oh, bem... acho que vai ser bom conversar com alguém que me entenda. Um lobo me mordeu no final de semana, e fiquei assim. Como aconteceu com você? Quero dizer, como ficou assim? O outro ri.{os.linesep}— Acho que anda vendo muitos filmes de terror. Você não foi “conta- minado” ou coisa assim. Foi encontrado por um Garra Vermelha, um lobisomem que odeia e mata humanos. Ele 1a devorá-lo, mas ao aplicar a primeira mordida percebeu que você era um de nós, e fugiu. O susto deve ter servido como “gatilho psicológico” para disparar sua primeira trans- formação. Na verdade, você é um lobisomem desde que nasceu. Somos uma raça. Você é lobisomem porque seu paí verdadeiro também é.{os.linesep}— Meu... pai verdadeiro?{os.linesep}— Sim. Aconteceu durante um breve romance entre sua mãe em um de nós. Por isso estou aqui. É meu dever ensiná-lo sobre nossa raça, e levá- lo para ocupar seu lugar. Sou seu verdadeiro pai.{os.linesep}— Maldito! Então sou um monstro por sua culpa!{os.linesep}— Calma, Marco. Não somos monstros, como os humanos pensam. Somos guerreiros, protetores da vida, de Gaia.{os.linesep}Você não está interessado nas histórias do canalha que abandonou você com aquele outro canalha, que deveria ser seu pai. Talvez por isso ele o odiasse tanto.{os.linesep}Se quer mandá-lo embora e virar-se sozinho, digite '14'.{os.linesep}Se acha que Bico de Águia merece uma chance é quer ir com ele para conhecer a tal sociedade dos lobisomens, digite '26'."
        if mensagem == "22":
            return f"Você se controla; não precisa de mais problemas. Quem é que se arrisca por você, não é mesmo? Assumindo a forma de lobo para não despertar suspeitas, você começa a se afastar quando percebe que estava sendo observado: logo adiante nota a presença de outro garoto de rua, bem mais maltrapilho que você.{os.linesep}— Você é um lobisomem, não é? Por que não interferiu? Poderia ter feito o estuprador em pedacinhos.{os.linesep}— Não era problema meu. Já tenho muito com o que me preocupar.{os.linesep}— É assim que se fala, garoto!{os.linesep}Para sua surpresa, O garoto começa a assumir outra forma. Agora ele se parece com um homem-rato, ou coisa parecida. Céus, quantos desses existem por aí?{os.linesep}— Eu disse a eles — comemora o garoto. — Acharam que você era nobre demais, mas agora devem reconhecer que estavam errados! Você pode ser um de nós.{os.linesep}Digite '12'."
        if mensagem == "23":
            return f"- Uma... família?{os.linesep}A idéia é irrecusável. Você aceita, é claro. Você e sua mãe merecem um pouco de paz depois da vida de surras com aquele desgraçado. Depois de confraternizarem um pouco, você deixa os dois sozinhos — eles têm muito o que conversar.{os.linesep}Passando por um espelho próximo, você volta ao mundo material. Digite '36'."
        if mensagem == "24":
            return f"Cansado de viver sozinho, você aceita. Seu mentor se apresenta como Rodrigo e leva-o para casa, uma mansão no bairro mais luxuoso da cidade.{os.linesep}Com o tempo, depois de retomar sua vida, você começa a se sentir mais humano. Sua missão de combate ao crime continua, às vezes ao lado de Rodrigo, muitas vezes sozinho. Aprende muito sobre a existência de outros lobisomens, vampiros e demais criaturas da noite. Descobre que Rodrigo tem poderes sobrenaturais que o permitem dominar pessoas com as pala- vras, e que você pode sentir quando ele usa seus poderes — inclusive esse. Isso o deixa muito mais tranquilo, pois sabe que pode confiar nele.{os.linesep}Uma noite, porém, quando você sai do banho e entra na sala de jantar, encontra o lobisomem Bico da Águia lá.{os.linesep}Se você já conversou com ele e conhece a verdade sobre seu pai e sua natureza, digite '16'. Caso contrário, digite '11'."
        if mensagem == "25":
            return f"Você continua em frente, seguindo pela rua. Mais adiante, obriga-se a esfregar os olhos: viu realmente um DRAGÃO atravessando o cruzamento? Claro! Este lugar deve ser a tal Umbra! O lugar é mais ou menos parecido com o mundo 'normal', mas com algumas diferenças.{os.linesep}Ao seu lado, você vê a vitrine refletora de uma loja. Achando que já viu o suficiente para sua primeira exploração, decide voltar ao mundo 'de verdade'. Digite '36'."
        if mensagem == "26":
            return f"— Bem... acho que vocês são minha gente, afinal.{os.linesep}Depois de um caloroso abraço entre você e seu pai, vocês rumam para longe. Saem da cidade e chegam a uma região selvagem. Depois de algum tempo percorrendo a mata, alcançam uma clareira onde vários Garou dançam à volta de uma fogueira como índios.{os.linesep}Você é conduzido para uma cabana onde recebe mais explicações, e também um nome tribal — Olho da Águia. Agora, realmente, você é um Garou. Um Philodox, destinado a ser um dos sábios Garou. Você aprende sobre a cultura Garou, a odiosa Wyrm e... a Umbra.{os.linesep}A Umbra. O mundo espiritual, que existe além do mundo físico. Um mundo que pode ser alcançado pelos Garou através de uma superfície refletora. E chegou o momento de conhecê-la. Digite '29'."
        if mensagem == "27":
            return f"A janela de seu quarto sempre lhe pareceu alta — mas agora a distância até o chão parece ridícula, comparada à distância que separa você da raça humana. Seus pés tocam o solo e você começa a correr. Corre até estar bem longe daquela casa. Só depois de algum tempo você diminui o passo e começa a pensar no que fará com sua vida. Não precisa pensar muito. Seus sentidos subitamente aguçados atraem sua atenção para um beco escuro, onde uma luta se desenrola. Lobisomens! Quatro deles, enfrentando um homem trajado de preto. Lobisomens muito estranhos (se é que você pode julgar!), sem pêlos, nem aquela certa beleza que você acabou reconhecendo em sua forma peluda. Não, aqueles realmente pareciam monstros. Há algo errado com o homem, também; rápido e forte demais. E, quando atingido com uma faca, O ferimento se fecha na mesma hora.{os.linesep}Que mundo de monstros é este em que você se meteu?{os.linesep}Em certo momento o grupo percebe sua presença. Todos cessam de lutar, e ficam apenas olhando. O homem exibe um sorriso de presas longas e afiadas. Um vampiro? Bem, depois de tudo que você viu, não duvida de mais nada.{os.linesep}O monstro que empunha a faca (mais tarde você nota que ele não tem garras) fala com você:{os.linesep}— Marco! Estávamos esperando por você. Viemos buscá-lo! Seu lugar é conosco!{os.linesep}— Bobagem! — interrompe o vampiro. — Não acredite nessas criaturas grotescas, meu colega da noite. Desejam apenas transformá-lo em outra fera bestial. Venha comigo e a vida será como deve ser!{os.linesep}Algo em seu coração diz para acreditar no vampiro. Bem, você viu muitos filmes de terror: lobisomens e vampiros são amigos, não? Se quer aceitar a companhia do vampiro, digite '35'. Se acha melhor não julgar os lobisomens monstruosos pela aparência e confiar neles, digite '18'. Se não quer ficar com ninguém, digite '2'."
        if mensagem == "28":
            return f"Você está cansado de ser enganado, e prefere ficar por conta própria. Diz isso e vai embora.Depois de andar um pouco. pensa sobre o que vai fazer agora. Se quer aproveitar a identidade falsa que Rodrigo providenciou e arranjar uma vida para continuar sua 'missão', digite '33'. Se quer largar tudo e viver no mato, digite '17'. Se quer tentar os esgotos, digite '37'."
        if mensagem == "29":
            return f"Quando acha que ninguém está olhando, você se dirige ao riacho de águas cristalinas perto do acampamento e observa seu reflexo. Não muito seguro, coloca sua mão na água — e ela não se molha. A Umbra? Mais confiante, você mergulha.{os.linesep}Alguma coisa está errada. Você está ensopado! Sai da água (que cheiro de cachorro molhado!), chacoalha-se um pouco para se enxugar, e volta. para o acampamento. Para sua surpresa, não encontra ninguém. Nem mesmo a fogueira; uma árvore imensa cresce onde o fogo deveria estar aceso. Cadê todo mundo?{os.linesep}Confuso, você corre até a cidade. De alguma forma, as coisas parecem diferentes. Você observa uma casa muito antiga, trazendo um brasão com o rosto de um lobo no portão. Se quer entrar, digite '34'. Se quer ir embora, digite '25'."
        if mensagem == "30":
            return f"Você se atira sobre o estuprador com a fúria de um lobo raivoso, estraçalhando-o com suas garras e presas. A garota foge apavorada, mas ainda com as roupas intactas: sinal de que você chegou a tempo.{os.linesep} Há tempos você não se sentia tão bem. Esta noite dá um novo significado à sua vida, uma razão mais forte que a mera sobrevivência. Você se torna um vigilante, combatendo todo tipo de violência. Deixa a polícia desbaratinada com uma onda de criminosos chacinados por um animal selvagem.{os.linesep}Não demora até que seja encontrado por outro justiceiro. Já ouviu falar nele, e não se surpreende muito ao descobrir que trata-se do mesmo vampiro que você encontrou no dia em que saiu de casa. Depois de impedirem juntos um assassinato, vocês conversam, Ele é muito rico: oferece a você um lar, uma identidade falsa, documentos, e a chance de voltar a estudar. Se a proposta o agrada, digite '24'. Se quer continuar sendo um 'lobo solitário', digite '9'."
        if mensagem == "31":
            return f"Ele avança com o cinto. Cansado de tanto apanhar, você resolve que é hora de mudar as coisas.{os.linesep}— Não! Você não vai me bater! Você não vai me bater nunca mais! Isso só serve para deixar seu pai mais nervoso, e ele começa a bater em você com o cinto. Você cerra os dentes e aguenta um, dois, três, quatro açoites. A dor rouba seu controle, convoca seu lado animal para a superfície. Sem que você consiga impedir, sua forma de lobo emerge furiosa. Uma garra animalesca toma o cinto de seu pai, enquanto a outra joga-o longe com um soco.{os.linesep}Você nunca sentiu-se tão furioso quanto agora. Se quiser pular a janela e fugir, digite '27'. Se quiser terminar o que começou, vingar-se do maldito que espancou você durante toda a vida, digite '15'."
        if mensagem == "32":
            return f"Curioso, você se debruça sobre o poço. Parece que não tem fundo — ou, se tem, está distante demais para ver.{os.linesep}Súbito, uma monstruosa pata de inseto salta da escuridão e agarra sua cabeça, puxando-o para dentro do poço. Você não devia ter subestimado os perigos da Umbra! Mas não se preocupe, terá muito tempo para lamentar a escolha errada, pois no mundo infernal onde caiu vive-se para sempre... {os.linesep}Digite 'menu' para voltar ao início."
        if mensagem == "33":
            return f"Digite '40'."
        if mensagem == "34":
            return f"Você abre o portão e entra. Enquanto dirige-se para a porta, outro Garou sai de lá.{os.linesep}— Oh, olá.{os.linesep}— Oi. Que lugar é esse? Cadê todo mundo?{os.linesep}— Fora da Umbra, suponho. Este é o santuário de um mago. Está sempre aberto aos Garou que precisem de abrigo.{os.linesep}— Ah.{os.linesep}Bem, então AQUI é a Umbra. Legal. Você entra no tal santuário. Logo na entrada, um grande espelho domina uma parede. Sobre ele, uma placa diz: “de volta à Terra”. Um longo corredor continua em frente, e uma porta ao lado está apenas encostada, com a luz acesa. oc ouve vozes familiares vindo de lá.{os.linesep}Se quer usar o espelho para voltar ao mundo 'de verdade', digite '36'. Se quer seguir o corredor, digite '19'. Se quer abrir a porta, digite '38'."
        if mensagem == "35":
            return f"— Acho que vou com o senhor — você balbucia.{os.linesep}— Não! — grita um dos monstros, assumindo postura hostil. — Nós não permitiremos! Você é nosso, querendo ou não!{os.linesep}É, parece que os canalhas não eram mesmo de confiança. Bem, você é um lobisomem, e não precisa mais aceitar ameaças de ninguém! Seu corpo ganha as alturas na forma de homem-lobo.{os.linesep}—— Eu disse que vou com ele — você rosna.{os.linesep}— Assim é que se fala, garoto — diz o vampiro, atirando-se sobre os monstros. Você faz o mesmo. Rapidamente, com sua ajuda, os quatro são mortos. Você volta à forma humana, e seu novo mentor o conduz para longe.{os.linesep}Com o tempo você aprende muita coisa. Sobre você e sobre Rodrigo, seu protetor. Passam os dias em uma luxuosa mansão no bairro mais rico da cidade, durante as noites saem juntos, ajudando pessoas; a maioria dos vampiros não se importa muito com mortais, mas Rodri go parece ser diferente. Odeia violência (pelo menos contra inocentes). Você imagina que ele deve ter sido vítima de algo do gênero antes de se tornar vampiro.{os.linesep}Você descobre, também, que ele tem o poder de dominar pessoas com a voz — poder que utilizou sobre você naquele dia, no beco, para convencê-lo a acreditar nele. Mas isso não é importante, pois claramente sua decisão foi acertada. Além disso, de alguma maneira, você é capaz de sentir quando Rodrigo usa um de seus poderes vampíricos.{os.linesep}Certo dia (ou melhor, certa noite), a mansão é invadida. Alguém conseguiu driblar as dezenas de guardas que protegem o lugar. Você e Rodrigo jogam xadrez na sala de estar quando a porta é arrombada por uma criatura grande e peluda.{os.linesep}Sim, outro lobisomem. Digite '11'."
        if mensagem == "36":
            return f"Retornando da Umbra, você volta ao acampamento para contar aos outros sobre sua viagem. Foi imprudente penetrar na Umbra sozinho, mas você sobreviveu a seus perigos e isso deixa todos contentes. E alegremente aceito entre os Garou, porque você tomou as decisões certas. Parabéns.{os.linesep}Digite 'menu' para voltar ao início."
        if mensagem == "37":
            return f"Você acha que os esgotos seriam um lugar seguro e confortável para viver. Depois de alguns dias vagando nos subterrâneo, contudo, você percebe a presença de outros habitantes. Leva algum tempo, mas enfim você encontra um deles.{os.linesep}Não é humano. Uma criatura peculiar: meio criança, meio rato. Droga, outro monstro! Você se prepara para lutar quando a criatura ergue as mãos apaziguadoras.{os.linesep}— Espere! Não há necessidade de luta! Você é bem-vindo entre nós!{os.linesep}Digite '12'."
        if mensagem == "38":
            return f"Você abre a porta, e o que vê é uma surpresa total: lá estão Bico da Águia, em sua forma humana... e sua mãe! Eles percebem sua chegada e se voltam, no instante em que você salta sobre a garganta de Bico.{os.linesep}— Não, Marco — interfere sua mãe. — Quando você fugiu, não tive mais nenhum motivo para viver naquela casa. Fui embora também. Pedro me encontrou, e contou-me tudo. Os lobisomens apavoram pessoas comuns, mas isso não acontece comigo porque sou filha ou neta de um deles. Quero ficar com vocês dois, Marco. Nós podemos viver juntos, ser uma família.{os.linesep}— Durante todos esses anos sempre amei sua mãe — confessa Bico da Águia. — Sempre sonhei em estar novamente com ela.{os.linesep}Você continua furioso e confuso. De alguma forma, sabe que pode derrotar Bico em combate. Se você não o perdoa por tudo que fez e quer satisfazer sua fúria, digite '15'. Se quer acalmar-se e aceitar sua proposta de viver como uma família, digite '23'. Se quer apenas deixá-los em paz e ir embora, digite '8'."
        if mensagem == "39":
            return f"— Não quero conversar.{os.linesep}Você decide que não pode confiar nessas feras, e quer seguir seu caminho sozinho. Após dizer isso ao lobisomem, você adota a forma quadrúpede de um lobo e sai correndo, quase durante a noite inteira.{os.linesep}Onde vai viver daqui por diante? Talvez nas matas, na região onde acampou com os escoteiros? Digite '17'. Se quer tentar os esgotos, digite '37'. Se prefere permanecer nas ruas da cidade, digite '6'."
        if mensagem == "40":
            return f"Você não é um fanático. Ao contrário de seu pai e outros Garou, acredita que um vampiro possa ser bom e justo — e esse é sem dúvida o caso de Rodrigo. Decide continuar ajudando-o em sua arrisca- da missão contra o crime.{os.linesep}Vocês voltam a encontrar Bico da Águia várias vezes mais tarde — às vezes como aliado, às vezes como inimigo, e muitas vezes em paz, apenas para conversar. Ele nunca se convence que um vampiro possa ser bom. Ele e Rodrigo prosseguem se odiando até morrerem (sim, pois um dia Rodrigo acaba sendo vítima de sua perigosa vida de combate ao crime). Até lá, você sabe que está fazendo a coisa certa. Que os outros Garou defendam a natureza contra desmatamentos e detritos tóxicos; você prefere comba- ter a Wyrm que vive dentro dos corações das pessoas!{os.linesep}E Gaia deve concordar com você, pois recompensou-o com dez filhos Garou — sete hominídeos (de mães humanas) e três lupinos (de mães lobas), todos adultos e vivendo suas próprias vidas. Poucos Garou podem dizer que tiveram uma vida tão plena e feliz.{os.linesep}Digite 'menu' para voltar ao início."
        else:
            return f"Parece que algo deu errado...{os.linesep} :({os.linesep}Digite 'menu' para voltar ao menu inicial."
    #Responder
    def responder_pessoa(self, resposta, chat_id):
        #enviar
        link_de_envio = f'{self.url_base}sendMessage?chat_id={chat_id}&text={resposta}'
        requests.get(link_de_envio)

def run_bot():
    bot = TelegramBot()
    bot.iniciar()

""" bot = TelegramBot()
bot.iniciar() """
